<div class="ase-effect-card {{effect.type}} {{#if effect.enabled}}enabled{{/if}}" data-effect-id="{{effect.id}}">
    <!-- Header -->
    <div class="ase-effect-header">
        <h3 class="ase-effect-title">{{effect.type}}</h3>

        <div class="ase-effect-toggle" data-action="toggle-enable">
            <i class="fa-solid fa-power-off"></i>
        </div>
    </div>

    <!-- Visualization (Circle) -->
    <div class="ase-effect-viz">
        <!-- Generic Circular Display -->
        <div class="ase-knob-circle" style="--knob-rotation: {{effect.mainParamRotation}}deg"
            data-main-param-id="level">
            <div class="ase-knob-value">{{effect.mainValue}}</div>
            <!-- We can use specific CSS gradients here -->
        </div>
    </div>

    <!-- Parameters (Knobs/Sliders) -->
    <div class="ase-effect-params">
        {{#each effect.params as |param key|}}
        <div class="ase-param-control">
            <label>{{param.name}}</label>
            {{#if (eq param.type "select")}}
            <select class="ase-param-input" data-param-id="{{param.id}}">
                {{#each param.options}}
                <option value="{{this.value}}" {{#if (eq this.value param.value)}}selected{{/if}}>{{this.label}}
                </option>
                {{/each}}
            </select>
            {{else}}
            <input type="range" class="ase-param-slider" data-param-id="{{param.id}}" min="{{param.min}}"
                max="{{param.max}}" step="{{param.step}}" value="{{param.value}}">
            <span class="ase-param-val">{{param.value}}{{param.suffix}}</span>
            {{/if}}
        </div>
        {{/each}}
    </div>

    <!-- Routing (The 3 Buttons) -->
    <div class="ase-effect-routing">
        <button class="ase-route-btn {{#if effect.routing.music}}active{{/if}}" data-action="toggle-route"
            data-channel="music">
            MUSIC
        </button>
        <button class="ase-route-btn {{#if effect.routing.ambience}}active{{/if}}" data-action="toggle-route"
            data-channel="ambience">
            AMBIENCE
        </button>
        <button class="ase-route-btn {{#if effect.routing.sfx}}active{{/if}}" data-action="toggle-route"
            data-channel="sfx">
            SFX
        </button>
    </div>
</div>